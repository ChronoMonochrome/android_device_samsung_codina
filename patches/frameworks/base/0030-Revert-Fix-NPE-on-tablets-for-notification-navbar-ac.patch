From d9166f89f22449929ec08a20ed193cbc93ba4c2a Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Mon, 25 Jan 2016 01:29:06 +0700
Subject: [PATCH 30/64] Revert "Fix NPE on tablets for notification navbar
 action"

This reverts commit 741bd6f8b8256ca0f073b75121f59b2c5f717c7b.
---
 .../systemui/statusbar/phone/PhoneStatusBar.java    | 21 ++++++---------------
 1 file changed, 6 insertions(+), 15 deletions(-)

diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java b/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java
index 0ef817c..dc7c72c 100755
--- a/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java
@@ -298,7 +298,6 @@ public class PhoneStatusBar extends BaseStatusBar implements DemoMode,
     // position
     int[] mPositionTmp = new int[2];
     boolean mExpandedVisible;
-    boolean mNotificationStateNext = true;
 
     // the date view
     DateView mDateView;
@@ -2255,20 +2254,12 @@ public class PhoneStatusBar extends BaseStatusBar implements DemoMode,
      */
     private int getExpandedNotificationState() {
         if (mExpandedVisible) {
-            if (mNotificationButton != null) {
-                if (mNotificationButton.getVisibility() == View.VISIBLE) {
-                    return 1;
-                } else if (mSettingsButton.getVisibility() == View.VISIBLE) {
-                    return 2;
-                }
-            } else {
-                if (mNotificationStateNext) {
-                    mNotificationStateNext = false;
-                    return 2;
-                } else {
-                    mNotificationStateNext = true;
-                    return 1;
-                }
+            // Notification button is on quick settings side
+            if (mNotificationButton.getVisibility() == View.VISIBLE) {
+                return 1;
+            // Settings button is on notification side
+            } else if (mSettingsButton.getVisibility() == View.VISIBLE) {
+                return 2;
             }
         }
         return 0;
-- 
2.5.0

