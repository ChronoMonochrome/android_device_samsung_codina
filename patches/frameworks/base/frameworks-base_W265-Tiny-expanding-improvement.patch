From 3eee037ab80a0d3686bea8b6b7a6fe5ee66021be Mon Sep 17 00:00:00 2001
From: BigBrother1984 <carlosavignano@aospa.co>
Date: Thu, 13 Nov 2014 22:46:12 +0100
Subject: [PATCH] SystemUI: Tiny expanding improvement

diff --git a/packages/SystemUI/src/com/android/systemui/ExpandHelper.java b/packages/SystemUI/src/com/android/systemui/ExpandHelper.java
index 377fab549a7e..a8af0b65dab5 100644
--- a/packages/SystemUI/src/com/android/systemui/ExpandHelper.java
+++ b/packages/SystemUI/src/com/android/systemui/ExpandHelper.java
@@ -519,7 +519,6 @@ boolean startExpanding(ExpandableView v, int expandType) {
         mExpanding = true;
         mCallback.expansionStateChanged(true);
         if (DEBUG) Log.d(TAG, "scale type " + expandType + " beginning on view: " + v);
-        mCallback.setUserLockedChild(v, true);
         mScaler.setView(v);
         mOldHeight = mScaler.getHeight();
         mCurrentHeight = mOldHeight;
@@ -532,6 +531,7 @@ boolean startExpanding(ExpandableView v, int expandType) {
             if (DEBUG) Log.d(TAG, "working on a non-expandable child");
             mNaturalHeight = mOldHeight;
         }
+        mCallback.setUserLockedChild(v, true);
         if (DEBUG) Log.d(TAG, "got mOldHeight: " + mOldHeight +
                     " mNaturalHeight: " + mNaturalHeight);
         return true;
