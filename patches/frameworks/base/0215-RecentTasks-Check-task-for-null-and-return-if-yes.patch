From 861c8eab49e28fbb89e7b3358d68ee1dfa1044a5 Mon Sep 17 00:00:00 2001
From: Shibin George <shibing@codeaurora.org>
Date: Thu, 7 Dec 2017 13:12:34 +0530
Subject: [PATCH 215/296] RecentTasks: Check task for null and return if yes

---
 services/core/java/com/android/server/am/RecentTasks.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/services/core/java/com/android/server/am/RecentTasks.java b/services/core/java/com/android/server/am/RecentTasks.java
index a6ebac44062..ccbf35fa1a4 100644
--- a/services/core/java/com/android/server/am/RecentTasks.java
+++ b/services/core/java/com/android/server/am/RecentTasks.java
@@ -504,6 +504,7 @@ class RecentTasks extends ArrayList<TaskRecord> {
     }
 
     final void addLocked(TaskRecord task) {
+        if (task == null) return;
         final boolean isAffiliated = task.mAffiliatedTaskId != task.taskId
                 || task.mNextAffiliateTaskId != INVALID_TASK_ID
                 || task.mPrevAffiliateTaskId != INVALID_TASK_ID;
-- 
2.11.0

