From 86916e889de2ff711f6a4d5f2db11eb82d5addd3 Mon Sep 17 00:00:00 2001
From: maxwen <max.weninger@gmail.com>
Date: Thu, 21 Sep 2017 16:02:23 +0200
Subject: [PATCH 293/296] base: SettingsLib: stop ClassCastException

---
 .../src/com/android/settingslib/suggestions/SuggestionParser.java   | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/packages/SettingsLib/src/com/android/settingslib/suggestions/SuggestionParser.java b/packages/SettingsLib/src/com/android/settingslib/suggestions/SuggestionParser.java
index 56b84415e90..1a64c7d4109 100644
--- a/packages/SettingsLib/src/com/android/settingslib/suggestions/SuggestionParser.java
+++ b/packages/SettingsLib/src/com/android/settingslib/suggestions/SuggestionParser.java
@@ -392,7 +392,11 @@ public class SuggestionParser {
         if (isSmartSuggestionEnabled) {
             return mDefaultDismissControl;
         } else {
-            return suggestion.metaData.getString(META_DATA_DISMISS_CONTROL);
+            Object o = suggestion.metaData.get(META_DATA_DISMISS_CONTROL);
+            if (o instanceof String) {
+                return (String) o;
+            }
+            return null;
         }
     }
 
-- 
2.11.0

