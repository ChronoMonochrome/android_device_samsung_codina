From 86bbee64d239c409de5b9c74f8f1a3465c94ff9e Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Mon, 25 Jan 2016 01:02:07 +0700
Subject: [PATCH 08/64] Revert "NBV: inline trivial method"

This reverts commit 416e1607b18d175b41abcfd87bb354adb4f05276.
---
 .../android/systemui/statusbar/phone/NavigationBarView.java    | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarView.java b/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarView.java
index 4cd93ea..27229eb 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarView.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarView.java
@@ -495,7 +495,7 @@ public class NavigationBarView extends LinearLayout {
     final Runnable mNotifyLayoutChanged = new Runnable() {
         @Override
         public void run() {
-            setupNavigationButtons(getCurrentButtonArray());
+            loadButtonArrays();
         }
     };
 
@@ -691,7 +691,7 @@ public class NavigationBarView extends LinearLayout {
                     for(int i=0;i<mButtonLayouts;i++)
                         mButtonContainerStrings[i] = Settings.System.getString(r, buttonSettings[i]);
 
-                    setupNavigationButtons(getCurrentButtonArray());
+                    notifyLayoutChange(0);
                 }};
 
             for(int i=0;i<5;i++)
@@ -773,7 +773,7 @@ public class NavigationBarView extends LinearLayout {
                 mIMEKeyArray.add(new KeyButtonInfo(actions[0], actions[1], actions[2], actions[3]));
             }
         }
-        setupNavigationButtons(getCurrentButtonArray());
+        setupNavigationButtons();
     }
 
     private ArrayList<KeyButtonInfo> getButtonsArray(final String[] userButtons) {
@@ -790,6 +790,10 @@ public class NavigationBarView extends LinearLayout {
         return mAllButtonContainers.get(mCurrentLayout);
     }
 
+    private void setupNavigationButtons() {
+        setupNavigationButtons(getCurrentButtonArray());
+    }
+
     private void setupNavigationButtons(ArrayList<KeyButtonInfo> buttonsArray) {
         final boolean stockThreeButtonLayout = buttonsArray.size() == 3;
         final int separatorSize = (int) mMenuButtonWidth;
-- 
2.5.0

