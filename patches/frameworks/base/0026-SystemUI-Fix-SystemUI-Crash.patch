From 45f55756249b0f3c1cebee494a2c296c785d0e98 Mon Sep 17 00:00:00 2001
From: Minming Qi <mqi@codeaurora.org>
Date: Tue, 11 Jul 2017 16:42:26 +0800
Subject: [PATCH 026/296] SystemUI: Fix SystemUI Crash

SystemUI may crash sometimes in monkey test due to exception.

Catch the exception to avoid the crash.
---
 .../android/systemui/statusbar/policy/UserInfoControllerImpl.java  | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)
 mode change 100644 => 100755 packages/SystemUI/src/com/android/systemui/statusbar/policy/UserInfoControllerImpl.java

diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/policy/UserInfoControllerImpl.java b/packages/SystemUI/src/com/android/systemui/statusbar/policy/UserInfoControllerImpl.java
old mode 100644
new mode 100755
index 527addf11da..b63366f74c3
--- a/packages/SystemUI/src/com/android/systemui/statusbar/policy/UserInfoControllerImpl.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/policy/UserInfoControllerImpl.java
@@ -111,7 +111,12 @@ public class UserInfoControllerImpl implements UserInfoController {
             mUserInfoTask.cancel(false);
             mUserInfoTask = null;
         }
-        queryForUserInformation();
+
+        try {
+            queryForUserInformation();
+        } catch (Exception e) {
+            Log.e(TAG, "Couldn't query user info", e);
+        }
     }
 
     private void queryForUserInformation() {
-- 
2.11.0

