From 58882f7661c54db596db42c293ad636857f06381 Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Mon, 20 Aug 2018 22:57:43 +0300
Subject: [PATCH 054/296] Reporting FULL_WAKE_LOCK to battery stats.

Test: aquire full wake lock, dumpsys batterystats
---
 services/core/java/com/android/server/power/Notifier.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/services/core/java/com/android/server/power/Notifier.java b/services/core/java/com/android/server/power/Notifier.java
index f9892385cb4..a92720a4f11 100644
--- a/services/core/java/com/android/server/power/Notifier.java
+++ b/services/core/java/com/android/server/power/Notifier.java
@@ -307,6 +307,7 @@ final class Notifier {
             case PowerManager.PARTIAL_WAKE_LOCK:
                 return BatteryStats.WAKE_TYPE_PARTIAL;
 
+            case PowerManager.FULL_WAKE_LOCK:
             case PowerManager.SCREEN_DIM_WAKE_LOCK:
             case PowerManager.SCREEN_BRIGHT_WAKE_LOCK:
                 return BatteryStats.WAKE_TYPE_FULL;
-- 
2.11.0

