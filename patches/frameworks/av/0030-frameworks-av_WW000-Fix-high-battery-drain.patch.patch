From aadb487ce46130fcc586fa96de9a89412faab55b Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Mon, 26 Dec 2016 19:45:49 +0700
Subject: [PATCH 30/46] frameworks-av_WW000-Fix-high-battery-drain.patch

Change-Id: I9a9a8818da91c4fa24a2507c9fea68ca13eaf1e2
---
 services/camera/libcameraservice/CameraFlashlight.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/services/camera/libcameraservice/CameraFlashlight.cpp b/services/camera/libcameraservice/CameraFlashlight.cpp
index 5e0e4b2..2b93914 100644
--- a/services/camera/libcameraservice/CameraFlashlight.cpp
+++ b/services/camera/libcameraservice/CameraFlashlight.cpp
@@ -897,7 +897,7 @@ status_t CameraHardwareInterfaceFlashControl::disconnectCameraDevice() {
     }
     mDevice->setPreviewWindow(NULL);
     mDevice->release();
-    mDevice = NULL;
+    mDevice.clear();
 
     return OK;
 }
-- 
2.9.3

