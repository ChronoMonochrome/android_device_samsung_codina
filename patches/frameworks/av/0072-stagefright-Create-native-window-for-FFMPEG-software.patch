From 705dea7dbab2b5f56d06650e2e0cb1c6a97cde30 Mon Sep 17 00:00:00 2001
From: Steve Kondik <steve@cyngn.com>
Date: Fri, 27 Mar 2015 00:05:06 -0700
Subject: [PATCH 72/95] stagefright: Create native window for FFMPEG software
 codecs

Change-Id: I178f334f1fa1ea9edc6898fb61e72902c2cb2651
---
 media/libstagefright/ACodec.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/media/libstagefright/ACodec.cpp b/media/libstagefright/ACodec.cpp
index fa019cd..7bd3946 100644
--- a/media/libstagefright/ACodec.cpp
+++ b/media/libstagefright/ACodec.cpp
@@ -1475,7 +1475,8 @@ status_t ACodec::configureCodec(
     if (video) {
         // determine need for software renderer
         bool usingSwRenderer = false;
-        if (haveNativeWindow && mComponentName.startsWith("OMX.google.")) {
+        if (haveNativeWindow && (mComponentName.startsWith("OMX.google.") ||
+                                 mComponentName.startsWith("OMX.ffmpeg."))) {
             usingSwRenderer = true;
             haveNativeWindow = false;
         }
-- 
2.5.0

