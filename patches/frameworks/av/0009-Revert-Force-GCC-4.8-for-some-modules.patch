From d6c2de57081e32356240573ed721d00e1c611da7 Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Sun, 14 Feb 2016 07:54:57 +0700
Subject: [PATCH 09/13] Revert "Force GCC 4.8 for some modules"

This reverts commit 3eecb32633e78c6f0d411aa304a3c18049140cf9.

Change-Id: Ib1b0749efc2c12baa150f58c4ff68369f2cbb17b
---
 media/libmediaplayerservice/Android.mk | 4 ----
 media/libstagefright/Android.mk        | 3 ---
 media/mediaserver/Android.mk           | 4 +---
 media/ndk/Android.mk                   | 3 ---
 4 files changed, 1 insertion(+), 13 deletions(-)

diff --git a/media/libmediaplayerservice/Android.mk b/media/libmediaplayerservice/Android.mk
index 1d1eb4d..2cf5710 100644
--- a/media/libmediaplayerservice/Android.mk
+++ b/media/libmediaplayerservice/Android.mk
@@ -55,12 +55,8 @@ LOCAL_C_INCLUDES :=                                                 \
     $(TOP)/frameworks/native/include/media/openmax                  \
     $(TOP)/external/tremolo/Tremolo                                 \
 
-
 LOCAL_MODULE:= libmediaplayerservice
 
-LOCAL_CC  := $(TOP)/prebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.8/bin/arm-linux-androideabi-gcc
-LOCAL_CXX := $(TOP)/prebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.8/bin/arm-linux-androideabi-g++
-
 LOCAL_32_BIT_ONLY := true
 
 include $(BUILD_SHARED_LIBRARY)
diff --git a/media/libstagefright/Android.mk b/media/libstagefright/Android.mk
index 31acb32..a3efc9d 100644
--- a/media/libstagefright/Android.mk
+++ b/media/libstagefright/Android.mk
@@ -130,9 +130,6 @@ endif
 
 LOCAL_MODULE:= libstagefright
 
-LOCAL_CC  := $(TOP)/prebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.8/bin/arm-linux-androideabi-gcc
-LOCAL_CXX := $(TOP)/prebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.8/bin/arm-linux-androideabi-g++
-
 LOCAL_MODULE_TAGS := optional
 
 include $(BUILD_SHARED_LIBRARY)
diff --git a/media/mediaserver/Android.mk b/media/mediaserver/Android.mk
index 40a6330..ef2f395 100644
--- a/media/mediaserver/Android.mk
+++ b/media/mediaserver/Android.mk
@@ -42,8 +42,6 @@ LOCAL_C_INCLUDES := \
 
 LOCAL_MODULE:= mediaserver
 LOCAL_32_BIT_ONLY := true
-
-LOCAL_CC  := $(TOP)/prebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.8/bin/arm-linux-androideabi-gcc
-LOCAL_CXX := $(TOP)/prebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.8/bin/arm-linux-androideabi-g++
+LOCAL_CFLAGS += -std=gnu++11
 
 include $(BUILD_EXECUTABLE)
diff --git a/media/ndk/Android.mk b/media/ndk/Android.mk
index a5f9946..8f795cd 100644
--- a/media/ndk/Android.mk
+++ b/media/ndk/Android.mk
@@ -30,9 +30,6 @@ LOCAL_SRC_FILES:=                                       \
 
 LOCAL_MODULE:= libmediandk
 
-LOCAL_CC  := $(TOP)/prebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.8/bin/arm-linux-androideabi-gcc
-LOCAL_CXX := $(TOP)/prebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.8/bin/arm-linux-androideabi-g++
-
 LOCAL_C_INCLUDES := \
     bionic/libc/private \
     frameworks/base/core/jni \
-- 
2.5.0

