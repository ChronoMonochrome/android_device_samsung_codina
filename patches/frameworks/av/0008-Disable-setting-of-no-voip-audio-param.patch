From 9a153b428219c507ef78d9f68d8e6a3ef3cd6b5f Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Fri, 29 May 2015 12:26:36 +0300
Subject: [PATCH 08/12] Disable-setting-of-no-voip-audio-param

Change-Id: Ia027dea50a3976357d82ba510275f77db9b83e28
---
 services/audiopolicy/AudioPolicyService.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/services/audiopolicy/AudioPolicyService.cpp b/services/audiopolicy/AudioPolicyService.cpp
index 3079454..8513a70 100644
--- a/services/audiopolicy/AudioPolicyService.cpp
+++ b/services/audiopolicy/AudioPolicyService.cpp
@@ -958,6 +958,7 @@ void AudioPolicyService::setParameters(audio_io_handle_t ioHandle,
                                        const char *keyValuePairs,
                                        int delayMs)
 {
+    if(strcmp("voip=on",keyValuePairs) == 0) return;
     mAudioCommandThread->parametersCommand(ioHandle, keyValuePairs,
                                            delayMs);
 }
-- 
1.9.1

