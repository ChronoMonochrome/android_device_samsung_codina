From a2d317ebc72fad17204c48121a533ac2275bb016 Mon Sep 17 00:00:00 2001
From: Ethan Chen <intervigil@gmail.com>
Date: Sun, 14 May 2017 01:01:13 -0700
Subject: [PATCH 53/57] Revert "OMXNodeInstance: use a lock around
 OMX::freeNode"

This commit breaks the audio and/or video playback on STE devices.
---
 media/libstagefright/omx/OMXNodeInstance.cpp | 2 --
 1 file changed, 2 deletions(-)

diff --git a/media/libstagefright/omx/OMXNodeInstance.cpp b/media/libstagefright/omx/OMXNodeInstance.cpp
index ab0054900..3a3cd113c 100644
--- a/media/libstagefright/omx/OMXNodeInstance.cpp
+++ b/media/libstagefright/omx/OMXNodeInstance.cpp
@@ -498,8 +498,6 @@ status_t OMXNodeInstance::freeNode() {
             break;
     }
 
-    Mutex::Autolock _l(mLock);
-
     if (mActiveBuffers.size() > 0) {
         freeActiveBuffers();
     }
-- 
2.11.0

