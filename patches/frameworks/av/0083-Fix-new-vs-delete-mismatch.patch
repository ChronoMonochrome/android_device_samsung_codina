From 435321d35bc037bdf1eaa4be798600576debe975 Mon Sep 17 00:00:00 2001
From: Evgenii Stepanov <eugenis@google.com>
Date: Fri, 24 Apr 2015 14:27:03 -0700
Subject: [PATCH 83/95] Fix new[] vs delete mismatch.

Detected with AddressSanitizer.

Bug: 18202869
Change-Id: I7fa9ee722766968e33faa4d9312385ca303ca274
Signed-off-by: Chet Kener <Cl3Kener@gmail.com>
---
 media/libstagefright/codecs/aacdec/SoftAAC2.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/media/libstagefright/codecs/aacdec/SoftAAC2.cpp b/media/libstagefright/codecs/aacdec/SoftAAC2.cpp
index 351ba1e..24f58b6 100644
--- a/media/libstagefright/codecs/aacdec/SoftAAC2.cpp
+++ b/media/libstagefright/codecs/aacdec/SoftAAC2.cpp
@@ -75,7 +75,7 @@ SoftAAC2::SoftAAC2(
 
 SoftAAC2::~SoftAAC2() {
     aacDecoder_Close(mAACDecoder);
-    delete mOutputDelayRingBuffer;
+    delete[] mOutputDelayRingBuffer;
 }
 
 void SoftAAC2::initPorts() {
-- 
2.5.0

