Subject: [PATCH] Treat default value that wasn't found as empty value.

diff --git a/core/java/android/preference/MultiSelectListPreference.java b/core/java/android/preference/MultiSelectListPreference.java
index 138bd878..721519b 100644
--- a/core/java/android/preference/MultiSelectListPreference.java
+++ b/core/java/android/preference/MultiSelectListPreference.java
@@ -220,7 +220,7 @@
     @Override
     protected Object onGetDefaultValue(TypedArray a, int index) {
         final CharSequence[] defaultValues = a.getTextArray(index);
-        final int valueCount = defaultValues.length;
+        final int valueCount = defaultValues != null ? defaultValues.length : 0;
         final Set<String> result = new HashSet<String>();
         
         for (int i = 0; i < valueCount; i++) {
