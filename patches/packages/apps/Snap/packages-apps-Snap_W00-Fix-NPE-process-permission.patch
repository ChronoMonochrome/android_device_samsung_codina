From bd1d6ea46043e54feca75826572a6b7f5db9400e Mon Sep 17 00:00:00 2001
From: Arne Coucheron <arco68@gmail.com>
Date: Sun, 11 Jun 2017 07:01:09 +0200
Subject: [PATCH] Snap: Sign with platform key

Fixes:
  Not granting permission android.permission.PREVENT_POWER_KEY to package org.cyanogenmod.snap
  java.lang.SecurityException: No permission to prevent power key: Neither user 10026 nor current process has android.permission.PREVENT_POWER_KEY

diff --git a/Android.mk b/Android.mk
index 8c0ac23..3fa310f 100644
--- a/Android.mk
+++ b/Android.mk
@@ -36,6 +36,8 @@
 LOCAL_PACKAGE_NAME := Snap
 LOCAL_PRIVILEGED_MODULE := true
 
+LOCAL_CERTIFICATE := platform
+
 LOCAL_AAPT_FLAGS += --rename-manifest-package org.lineageos.snap
 
 #LOCAL_SDK_VERSION := current
