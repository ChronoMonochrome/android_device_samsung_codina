From 9c3dd77285624b72ddc3972f0205542eb64274a4 Mon Sep 17 00:00:00 2001
From: 10190178 <cai.rui@zte.com.cn>
Date: Mon, 2 Apr 2018 10:04:01 +0800
Subject: [PATCH 28/30] Fix wifi NullPointerException crash

---
 src/com/android/settings/wifi/WifiConfigController.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/com/android/settings/wifi/WifiConfigController.java b/src/com/android/settings/wifi/WifiConfigController.java
index d7bccc0d07..2c88505f9d 100644
--- a/src/com/android/settings/wifi/WifiConfigController.java
+++ b/src/com/android/settings/wifi/WifiConfigController.java
@@ -239,7 +239,7 @@ public class WifiConfigController implements TextWatcher,
             boolean showAdvancedFields = false;
             if (mAccessPoint.isSaved()) {
                 WifiConfiguration config = mAccessPoint.getConfig();
-                if (config.getIpAssignment() == IpAssignment.STATIC) {
+                if (config != null && config.getIpAssignment() == IpAssignment.STATIC) {
                     mIpSettingsSpinner.setSelection(STATIC_IP);
                     showAdvancedFields = true;
                     // Display IP address.
-- 
2.11.0

