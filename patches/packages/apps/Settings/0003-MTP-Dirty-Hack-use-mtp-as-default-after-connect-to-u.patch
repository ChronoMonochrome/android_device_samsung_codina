From a3ae8f63d1f328e2ab03e4619b9e31e3cfde3857 Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Mon, 20 Aug 2018 22:57:43 +0300
Subject: [PATCH 03/30] MTP Dirty Hack (use mtp as default after connect to
 usb) (2/3)

---
 res/values/cr_strings.xml     | 22 ++++++++++++++++++++++
 res/xml/development_prefs.xml |  6 ++++++
 2 files changed, 28 insertions(+)
 create mode 100644 res/values/cr_strings.xml

diff --git a/res/values/cr_strings.xml b/res/values/cr_strings.xml
new file mode 100644
index 0000000000..2e98ba8bdc
--- /dev/null
+++ b/res/values/cr_strings.xml
@@ -0,0 +1,22 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2012-2015 SergeyL Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+
+    <!-- MTP Dirty Hack -->
+    <string name="enable_mtp_dirtyhack_title">MTP instead Charging</string>
+    <string name="enable_mtp_dirtyhack_summary">Enable MTP instead Charging after connect to PC</string>
+
+</resources>
diff --git a/res/xml/development_prefs.xml b/res/xml/development_prefs.xml
index b58221bb6a..70e93dcc3b 100644
--- a/res/xml/development_prefs.xml
+++ b/res/xml/development_prefs.xml
@@ -254,6 +254,12 @@
             android:title="@string/tethering_hardware_offload"
             android:summary="@string/tethering_hardware_offload_summary"/>
 
+        <com.android.settings.development.SystemSettingSwitchPreference
+            android:key="mtp_dirty_hack"
+            android:title="@string/enable_mtp_dirtyhack_title"
+            android:summary="@string/enable_mtp_dirtyhack_summary"
+            android:defaultValue="true" />
+
         <ListPreference
             android:key="select_usb_configuration"
             android:title="@string/select_usb_configuration_title"
-- 
2.11.0

