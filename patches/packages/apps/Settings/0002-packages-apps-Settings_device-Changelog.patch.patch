From 2c40779910d2234a6ca26b6163bf3921ac30caf2 Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Fri, 13 Jan 2017 13:23:03 +0700
Subject: [PATCH 02/14] packages-apps-Settings_device-Changelog.patch

Change-Id: I77c54e25dc03845d680487a0f3f1c6c48ad89aca
---
 AndroidManifest.xml                    | 2 ++
 res/xml/device_info_settings.xml       | 5 +++++
 src/com/android/settings/Settings.java | 1 +
 3 files changed, 8 insertions(+)

diff --git a/AndroidManifest.xml b/AndroidManifest.xml
index a794676..90d8353 100644
--- a/AndroidManifest.xml
+++ b/AndroidManifest.xml
@@ -196,6 +196,8 @@
             </intent-filter>
         </receiver>
 
+        <activity android:name=".cyanogenmod.Changelog" />
+
         <!-- Wireless Controls -->
 
         <activity android:name="Settings$WirelessSettingsActivity"
diff --git a/res/xml/device_info_settings.xml b/res/xml/device_info_settings.xml
index ac25298..6e7f257 100644
--- a/res/xml/device_info_settings.xml
+++ b/res/xml/device_info_settings.xml
@@ -46,6 +46,11 @@
 				android:title="@string/build_date"
 				android:summary="@string/device_info_default" />
 
+        <!-- Changelog -->
+        <PreferenceScreen android:key="changelog"
+                android:title="@string/changelog_crdroid_title"
+                android:fragment="com.android.settings.cyanogenmod.Changelog" />
+
         <!-- Device status - launches activity -->
         <PreferenceScreen android:key="status_info"
                 android:title="@string/device_status"
diff --git a/src/com/android/settings/Settings.java b/src/com/android/settings/Settings.java
index 6e50587..f07a337 100644
--- a/src/com/android/settings/Settings.java
+++ b/src/com/android/settings/Settings.java
@@ -47,6 +47,7 @@ public class Settings extends SettingsActivity {
     public static class PhysicalKeyboardActivity extends SettingsActivity { /* empty */ }
     public static class InputMethodAndSubtypeEnablerActivity extends SettingsActivity { /* empty */ }
     public static class SpellCheckersSettingsActivity extends SettingsActivity { /* empty */ }
+    public static class Changelog extends SettingsActivity { /* empty */ }
     public static class LocalePickerActivity extends SettingsActivity { /* empty */ }
     public static class UserDictionarySettingsActivity extends SettingsActivity { /* empty */ }
     public static class HomeSettingsActivity extends SettingsActivity { /* empty */ }
-- 
2.9.3

