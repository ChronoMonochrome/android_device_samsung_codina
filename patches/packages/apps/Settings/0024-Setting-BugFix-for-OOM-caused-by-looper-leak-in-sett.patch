From 8f6dc61766f76bd7f45b0c3866ea24d81c605087 Mon Sep 17 00:00:00 2001
From: Libo Jin <liboj@codeaurora.org>
Date: Thu, 13 Jul 2017 10:57:00 +0800
Subject: [PATCH 24/30] Setting:BugFix for OOM caused by looper leak in
 settings

---
 src/com/android/settings/dashboard/DashboardFragment.java | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/src/com/android/settings/dashboard/DashboardFragment.java b/src/com/android/settings/dashboard/DashboardFragment.java
index 8c3ac0d026..5bd6776461 100644
--- a/src/com/android/settings/dashboard/DashboardFragment.java
+++ b/src/com/android/settings/dashboard/DashboardFragment.java
@@ -369,4 +369,11 @@ public abstract class DashboardFragment extends SettingsPreferenceFragment
         }
         mSummaryLoader.setListening(true);
     }
+
+    public void onDestroy(){
+        if(mSummaryLoader != null){
+           mSummaryLoader.release();
+        }
+        super.onDestroy();
+    }
 }
-- 
2.11.0

