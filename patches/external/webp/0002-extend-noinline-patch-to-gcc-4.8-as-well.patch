From 0631024eadc0022206eadfdc12b2d4aca5efba78 Mon Sep 17 00:00:00 2001
From: Marcin Kaluza <marcin.kaluza@trioptimum.com>
Date: Mon, 22 Jun 2015 21:01:03 +0200
Subject: [PATCH 2/2] extend noinline patch to gcc 4.8 as well

Change-Id: I8b2f632e88c59470f4c7617da730a15c7906cfe5
---
 src/dsp/lossless.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/dsp/lossless.c b/src/dsp/lossless.c
index a1bf358..7b7fa44 100644
--- a/src/dsp/lossless.c
+++ b/src/dsp/lossless.c
@@ -451,7 +451,7 @@ static WEBP_INLINE uint32_t ClampedAddSubtractHalf(uint32_t c0, uint32_t c1,
 }
 
 // gcc-4.9 on ARM generates incorrect code in Select() when Sub3() is inlined.
-#if defined(__arm__) && LOCAL_GCC_VERSION == 0x409
+#if defined(__arm__) && LOCAL_GCC_VERSION >= 0x408
 # define LOCAL_INLINE __attribute__ ((noinline))
 #else
 # define LOCAL_INLINE WEBP_INLINE
-- 
1.9.1

