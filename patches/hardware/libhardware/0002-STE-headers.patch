From cc1ca654b8d500f23e12a03a28d48f38ac483c91 Mon Sep 17 00:00:00 2001
From: Shilin Victor <chrono.monochrome@gmail.com>
Date: Wed, 7 Oct 2015 20:33:14 +0300
Subject: [PATCH 2/2] STE headers

Change-Id: Ib12011dbe2d3c0568aa6703ca31c2cf7b18b8c31
---
 include/hardware/audio.h | 13 +++++++++++++
 include/hardware/fb.h    | 35 +++++++++++++++++++++++++++++++++++
 include/hardware/gps.h   | 14 ++++++++++++++
 3 files changed, 62 insertions(+)

diff --git a/include/hardware/audio.h b/include/hardware/audio.h
index 6ba2544..93aa9d1 100644
--- a/include/hardware/audio.h
+++ b/include/hardware/audio.h
@@ -516,6 +516,19 @@ struct audio_hw_device {
     void (*close_output_stream)(struct audio_hw_device *dev,
                                 struct audio_stream_out* stream_out);
 
+#ifdef STE_SAMSUNG_HARDWARE
+    /** This method creates and opens the audio hardware output
+     *  for broadcast stream */
+    int (*open_broadcast_stream)(struct audio_hw_device *dev, uint32_t devices,
+                                 int format, uint32_t channels,
+                                 uint32_t sample_rate,
+                                 uint32_t audio_source,
+                                 struct audio_broadcast_stream **out);
+
+    void (*close_broadcast_stream)(struct audio_hw_device *dev,
+                                   struct audio_broadcast_stream *out);
+#endif
+
     /** This method creates and opens the audio hardware input stream */
     int (*open_input_stream)(struct audio_hw_device *dev,
                              audio_io_handle_t handle,
diff --git a/include/hardware/fb.h b/include/hardware/fb.h
index 135e4aa..90d5e5c 100644
--- a/include/hardware/fb.h
+++ b/include/hardware/fb.h
@@ -42,18 +42,32 @@ typedef struct framebuffer_device_t {
     const uint32_t  flags;
 
     /* dimensions of the framebuffer in pixels */
+#ifdef STE_HARDWARE
+    uint32_t        width;
+    uint32_t        height;
+#else
     const uint32_t  width;
     const uint32_t  height;
+#endif
 
     /* frambuffer stride in pixels */
+#ifdef STE_HARDWARE
+    int             stride;
+#else
     const int       stride;
+#endif
 
     /* framebuffer pixel format */
     const int       format;
 
     /* resolution of the framebuffer's display panel in pixel per inch*/
+#ifdef STE_HARDWARE
+    float           xdpi;
+    float           ydpi;
+#else
     const float     xdpi;
     const float     ydpi;
+#endif
 
     /* framebuffer's display panel refresh rate in frames per second */
     const float     fps;
@@ -144,6 +158,27 @@ typedef struct framebuffer_device_t {
      */
     int (*enableScreen)(struct framebuffer_device_t* dev, int enable);
 
+#ifdef STE_HARDWARE
+    /*
+     * Sets the number of degrees ccw the framebuffer shall be rotated before
+     * being sent to the display. This call may change the framebuffer's
+     * dimensions.
+     */
+    int (*rotate)(struct framebuffer_device_t* dev, unsigned int absolute_degree);
+
+    /*
+     * Informs gralloc about the UI rotation. This is needed in the mirroring use
+     * case to get the correct orientation on the external device, e.g. HDMI.
+     */
+    void (*UIRotationChange)(struct framebuffer_device_t* dev, int uiRotation);
+
+    /*
+     * Enables the mirroring of the main display content to an external device,
+     * e.g. HDMI.
+     */
+    void (*enableHDMIMirroring)(struct framebuffer_device_t* dev, int enable);
+#endif
+
     void* reserved_proc[6];
 
 } framebuffer_device_t;
diff --git a/include/hardware/gps.h b/include/hardware/gps.h
index 458b5b4..ba74705 100644
--- a/include/hardware/gps.h
+++ b/include/hardware/gps.h
@@ -603,6 +603,20 @@ typedef struct
     gps_create_thread create_thread_cb;
 } GpsNiCallbacks;
 
+#ifdef STE_SAMSUNG_HARDWARE
+/**
+ * The GPS chipset can use Psc for AGPS.
+ */
+#define AGPS_USE_PSC
+#endif
+
+#ifdef STE_SAMSUNG_HARDWARE
+/**
+ * The GPS chipset can use Psc for AGPS.
+ */
+#define AGPS_USE_PSC
+#endif
+
 /**
  * Extended interface for Network-initiated (NI) support.
  */
-- 
1.9.1

